{% extends 'base.html' %}
{% block title %}
    数据可视化-Chartjs（Ajax）
{% endblock title %}

{% block JS_001 %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    {% load static %}
    <script src="{% static "js/chart_js.js" %}"></script>

{% endblock JS_001 %}

{% block body %}
    <div class="container-fluid">

    <div class="jumbotron">
      <h1 style="color: #666666">数据可视化-Chartjs（Ajax）</h1>
      <p>Python网络编程第二部分HTTP协议图表测试</p>
    </div>


     <div class="row">
{#         在当前行中，占用宽度为6 的第1列#}
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">线性图表测试(Ajax数据)  <button type="button" class="btn btn-primary btn-sm" onClick="updatachart1();">刷新</button></div>
                <div class="card-body">
                    <!-- 图表会被绘制在下面的canvas内 -->
                    <canvas id="chart1"></canvas>
                </div>
            </div>
        </div>

         {#         在当前行中，占用宽度为6 的第2列#}
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">柱状图表测试(静态数据)</div>
                <div class="card-body">
                    <!-- 图表会被绘制在下面的canvas内 -->
                    <canvas id="chart2"></canvas>
                </div>
            </div>
        </div>
    </div>

{#    第2行，'py-5'为距离上下面div的间隔#}
    <div class="row py-5">
        {#    第2行第1列，占用4宽度，'py-1'为当前列 距离上下面div的间隔#}
    <div class="col-md-4 py-4">
        <div class="card">
            <div class="card-header">饼状图表测试1</div>
            <div class="card-body">
                <canvas id="chDonut1" height="100"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-4 py-1">
        <div class="card">
            <div class="card-header">饼状图表测试2</div>
            <div class="card-body">
                <canvas id="chDonut2" height="100"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-4 py-4">
        <div class="card">
            <div class="card-header">饼状图表测试3</div>
            <div class="card-body">
                <canvas id="chDonut3" height="100"></canvas>
            </div>
        </div>
    </div>
</div>

        </div>

<script type="text/javascript">
get_json_render_chart('/chartjs_from_ajax/chart_Multi_line', "chart1", "chart_Multi_line");

function updatachart1()
        {
            get_json_render_chart('/chartjs_from_ajax/chart_Multi_line', "chart1", "chart_Multi_line");
        }
</script>
{% endblock body %}